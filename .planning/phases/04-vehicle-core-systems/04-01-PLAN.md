---
phase: 04-vehicle-core-systems
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - Plugins/GSD_Vehicles/GSD_Vehicles.uplugin
  - Plugins/GSD_Vehicles/Resources/Icon128.png
  - Plugins/GSD_Vehicles/Source/GSD_Vehicles/GSD_Vehicles.Build.cs
  - Plugins/GSD_Vehicles/Source/GSD_Vehicles/Private/GSD_Vehicles.cpp
  - Plugins/GSD_Vehicles/Source/GSD_Vehicles/Public/GSD_Vehicles.h
  - Plugins/GSD_Vehicles/Source/GSD_Vehicles/Public/GSDVehicleLog.h
autonomous: true

must_haves:
  truths:
    - "GSD_Vehicles plugin appears in Unreal Editor plugin list"
    - "Plugin compiles without errors"
    - "GSD_Vehicles module loads in correct phase (PostEngineInit)"
  artifacts:
    - path: "Plugins/GSD_Vehicles/GSD_Vehicles.uplugin"
      provides: "Plugin manifest for GSD_Vehicles"
      contains: "ChaosVehicles"
    - path: "Plugins/GSD_Vehicles/Source/GSD_Vehicles/GSD_Vehicles.Build.cs"
      provides: "Build dependencies for vehicle module"
      contains: "ChaosVehiclesCore"
    - path: "Plugins/GSD_Vehicles/Source/GSD_Vehicles/Public/GSDVehicleLog.h"
      provides: "Logging category for vehicles"
      exports: ["DECLARE_LOG_CATEGORY_EXTERN", "LOG_GSDVEHICLES"]
  key_links:
    - from: "GSD_Vehicles.Build.cs"
      to: "GSD_Core module"
      via: "PublicDependencyModuleNames"
      pattern: "GSD_Core"
    - from: "GSD_Vehicles.Build.cs"
      to: "ChaosVehicles"
      via: "PrivateDependencyModuleNames"
      pattern: "ChaosVehicles"
---

<objective>
Create the GSD_Vehicles plugin foundation with proper Build.cs configuration for Chaos Vehicle physics integration.

Purpose: Establish the plugin structure that all vehicle systems will be built on, with correct module dependencies for Chaos Vehicle physics.
Output: Compilable GSD_Vehicles plugin ready for vehicle implementation.
</objective>

<execution_context>
@/Users/bretbouchard/.claude/get-shit-done/workflows/execute-plan.md
@/Users/bretbouchard/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/04-vehicle-core-systems/04-RESEARCH.md

# Reference existing plugin patterns
@Plugins/GSD_CityStreaming/Source/GSD_CityStreaming/GSD_CityStreaming.Build.cs
@Plugins/GSD_Core/Source/GSD_Core/Public/GSDLog.h
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create GSD_Vehicles Plugin Structure</name>
  <files>
    Plugins/GSD_Vehicles/GSD_Vehicles.uplugin
    Plugins/GSD_Vehicles/Resources/Icon128.png
    Plugins/GSD_Vehicles/Source/GSD_Vehicles/GSD_Vehicles.Build.cs
    Plugins/GSD_Vehicles/Source/GSD_Vehicles/Private/GSD_Vehicles.cpp
    Plugins/GSD_Vehicles/Source/GSD_Vehicles/Public/GSD_Vehicles.h
  </files>
  <action>
Create the GSD_Vehicles plugin following the established pattern from GSD_CityStreaming.

1. Create GSD_Vehicles.uplugin file:
   - Name: GSD_Vehicles
   - Version: 1.0.0
   - Category: GSD
   - EnabledByDefault: true
   - CanContainContent: true
   - IsBeta: false
   - Modules: [{Name: GSD_Vehicles, Type: Runtime, LoadingPhase: PostEngineInit}]

2. Create GSD_Vehicles.Build.cs with dependencies:
   PublicDependencyModuleNames: Core, CoreUObject, Engine, InputCore, GSD_Core
   PrivateDependencyModuleNames: ChaosVehicles, ChaosVehiclesCore

   CRITICAL: Use ChaosVehicles and ChaosVehiclesCore - NOT PhysX vehicle modules (deprecated).

3. Create placeholder GSD_Vehicles.h module header:
   - Declare FGSD_VehiclesModule class
   - Inherit from IModuleInterface
   - Declare StartupModule and ShutdownModule

4. Create placeholder GSD_Vehicles.cpp module implementation:
   - Implement FGSD_VehiclesModule::StartupModule() with LOG_GSDVEHICLES log
   - Implement FGSD_VehiclesModule::ShutdownModule()

5. Create Resources/Icon128.png (copy from GSD_CityStreaming pattern or use placeholder)

Follow the exact pattern from Plugins/GSD_CityStreaming/ for file structure.
</action>
  <verify>
1. Check plugin files exist:
   ls -la Plugins/GSD_Vehicles/
   ls -la Plugins/GSD_Vehicles/Source/GSD_Vehicles/

2. Verify Build.cs contains ChaosVehicles:
   grep "ChaosVehicles" Plugins/GSD_Vehicles/Source/GSD_Vehicles/GSD_Vehicles.Build.cs
</verify>
  <done>
Plugin structure exists with:
- GSD_Vehicles.uplugin with PostEngineInit loading phase
- Build.cs with ChaosVehicles and ChaosVehiclesCore dependencies
- Module header and implementation files
</done>
</task>

<task type="auto">
  <name>Task 2: Create Vehicle Log Category</name>
  <files>
    Plugins/GSD_Vehicles/Source/GSD_Vehicles/Public/GSDVehicleLog.h
    Plugins/GSD_Vehicles/Source/GSD_Vehicles/Private/GSDVehicleLog.cpp
  </files>
  <action>
Create logging category for GSD_Vehicles following the GSDLog.h pattern from GSD_Core.

1. Create GSDVehicleLog.h:
   - DECLARE_LOG_CATEGORY_EXTERN(LOG_GSDVEHICLES, Log, All)
   - Follow exact pattern from Plugins/GSD_Core/Source/GSD_Core/Public/GSDLog.h

2. Create GSDVehicleLog.cpp:
   - DEFINE_LOG_CATEGORY(LOG_GSDVEHICLES)
   - Include GSDVehicleLog.h

The log category will be used for:
- Vehicle spawn/despawn events
- Configuration validation errors
- Wheel bone validation warnings
- Physics setup issues
</action>
  <verify>
grep "LOG_GSDVEHICLES" Plugins/GSD_Vehicles/Source/GSD_Vehicles/Public/GSDVehicleLog.h
grep "DEFINE_LOG_CATEGORY" Plugins/GSD_Vehicles/Source/GSD_Vehicles/Private/GSDVehicleLog.cpp
</verify>
  <done>
LOG_GSDVEHICLES log category declared and defined, ready for use in vehicle systems.
</done>
</task>

</tasks>

<verification>
1. Plugin appears in project (uproject file may need regeneration)
2. Build.cs correctly references ChaosVehicles modules
3. Log category compiles without errors
4. Module loading phase is PostEngineInit (after GSD_Core)
</verification>

<success_criteria>
- GSD_Vehicles plugin structure created
- Build.cs includes ChaosVehicles and ChaosVehiclesCore dependencies
- Log category LOG_GSDVEHICLES available
- Plugin ready for vehicle implementation
</success_criteria>

<output>
After completion, create `.planning/phases/04-vehicle-core-systems/04-01-SUMMARY.md`
</output>
