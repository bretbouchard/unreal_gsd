---
phase: 08-event-system-core
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - Plugins/GSD_DailyEvents/GSD_DailyEvents.uplugin
  - Plugins/GSD_DailyEvents/Source/GSD_DailyEvents/GSD_DailyEvents.Build.cs
  - Plugins/GSD_DailyEvents/Source/GSD_DailyEvents/Public/GSD_DailyEvents.h
  - Plugins/GSD_DailyEvents/Source/GSD_DailyEvents/Private/GSD_DailyEvents.cpp
autonomous: true
user_setup: []

must_haves:
  truths:
    - "GSD_DailyEvents plugin compiles and loads in Unreal Editor"
    - "Module loads after GSD_Core (PostEngineInit phase)"
    - "Plugin provides logging infrastructure via LOG_GSDEVENTS macro"
  artifacts:
    - path: "Plugins/GSD_DailyEvents/GSD_DailyEvents.uplugin"
      provides: "Plugin manifest"
      contains: "Name=GSD_DailyEvents"
    - path: "Plugins/GSD_DailyEvents/Source/GSD_DailyEvents/GSD_DailyEvents.Build.cs"
      provides: "Build configuration"
      contains: "GSD_Core"
      contains: "GameplayTags"
    - path: "Plugins/GSD_DailyEvents/Source/GSD_DailyEvents/Public/GSD_DailyEvents.h"
      provides: "Module interface"
      exports: ["FGSD_DailyEventsModule"]
    - path: "Plugins/GSD_DailyEvents/Source/GSD_DailyEvents/Public/GSDEventLog.h"
      provides: "Logging macros"
      contains: "DECLARE_LOG_CATEGORY_EXTERN"
  key_links:
    - from: "GSD_DailyEvents.Build.cs"
      to: "GSD_Core module"
      via: "PublicDependencyModuleNames"
      pattern: "GSD_Core"
---

<objective>
Create GSD_DailyEvents plugin foundation with module structure and logging infrastructure.

Purpose: Establish the plugin that will house the event system, following established GSD patterns from GSD_Crowds and GSD_Vehicles.

Output: Compiling GSD_DailyEvents plugin with proper module loading order and logging infrastructure.
</objective>

<execution_context>
@/Users/bretbouchard/.claude/get-shit-done/workflows/execute-plan.md
@/Users/bretbouchard/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/08-event-system-core/08-RESEARCH.md

# Reference patterns from existing plugins
@Plugins/GSD_Crowds/Source/GSD_Crowds/Public/GSD_Crowds.h
@Plugins/GSD_Crowds/Source/GSD_Crowds/GSD_Crowds.Build.cs
@Plugins/GSD_Crowds/Source/GSD_Crowds/Public/GSDCrowdLog.h
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create Plugin Directory Structure and Manifest</name>
  <files>
    Plugins/GSD_DailyEvents/GSD_DailyEvents.uplugin
    Plugins/GSD_DailyEvents/Resources/Icon128.png
  </files>
  <action>
    Create the GSD_DailyEvents plugin manifest following the established pattern from GSD_Crowds.

    1. Create Plugins/GSD_DailyEvents/ directory structure:
       - Source/GSD_DailyEvents/Public/
       - Source/GSD_DailyEvents/Private/
       - Resources/

    2. Create GSD_DailyEvents.uplugin with:
       - Name: GSD_DailyEvents
       - Version: 1.0.0
       - FriendlyName: "GSD Daily Events"
       - Description: "Event system for deterministic daily event scheduling"
       - Category: "GSD"
       - CreatedBy: "Bret Bouchard"
       - EnabledByDefault: true
       - CanContainContent: false
       - IsBeta: false

    3. Create placeholder Icon128.png (can be empty or copy from GSD_Crowds)

    Do NOT create Build.cs or source files yet - those come in Task 2.
  </action>
  <verify>
    ls -la Plugins/GSD_DailyEvents/GSD_DailyEvents.uplugin
  </verify>
  <done>
    Plugin manifest exists with correct metadata. Plugin directory structure ready for source files.
  </done>
</task>

<task type="auto">
  <name>Task 2: Create Build Configuration and Module Class</name>
  <files>
    Plugins/GSD_DailyEvents/Source/GSD_DailyEvents/GSD_DailyEvents.Build.cs
    Plugins/GSD_DailyEvents/Source/GSD_DailyEvents/Public/GSD_DailyEvents.h
    Plugins/GSD_DailyEvents/Source/GSD_DailyEvents/Private/GSD_DailyEvents.cpp
    Plugins/GSD_DailyEvents/Source/GSD_DailyEvents/Public/GSDEventLog.h
  </files>
  <action>
    Create the module build configuration and implementation following GSD_Crowds patterns.

    1. Create GSD_DailyEvents.Build.cs with dependencies:
       Public:
       - Core, CoreUObject, Engine
       - GSD_Core (UGSDDataAsset, UGSDDeterminismManager, LOG_GSD macros)
       - GameplayTags (FGameplayTag, FGameplayTagContainer)

       Private:
       - (empty for now, will add GameplayMessaging later if needed)

       Editor:
       - UnrealEd, AutomationController (for commandlet support)

    2. Create GSDEventLog.h with logging macros:
       - DECLARE_LOG_CATEGORY_EXTERN(LOG_GSDEVENTS, Log, All)
       - DEFINE_LOG_CATEGORY(LOG_GSDEVENTS) in cpp
       - GSDEVENT_LOG(Verbosity, Format, ...) macro
       - GSDEVENT_TRACE(Format, ...) macro for verbose logging

    3. Create GSD_DailyEvents.h module interface:
       - FGSD_DailyEventsModule : public IModuleInterface
       - StartupModule() override
       - ShutdownModule() override
       - bInitialized tracking flag
       - GSD_DAILYEVENTS_API export macro

    4. Create GSD_DailyEvents.cpp implementation:
       - Include GSDEventLog.h for logging
       - StartupModule: Log "GSD_DailyEvents module starting up"
       - ShutdownModule: Log "GSD_DailyEvents module shutting down"
       - Follow exact pattern from GSD_Crowds module

    Do NOT use LoadingPhase property in Build.cs - let it default (will load after GSD_Core due to dependency).
  </action>
  <verify>
    grep -l "GSD_Core" Plugins/GSD_DailyEvents/Source/GSD_DailyEvents/GSD_DailyEvents.Build.cs
    grep -l "GameplayTags" Plugins/GSD_DailyEvents/Source/GSD_DailyEvents/GSD_DailyEvents.Build.cs
    grep -l "LOG_GSDEVENTS" Plugins/GSD_DailyEvents/Source/GSD_DailyEvents/Public/GSDEventLog.h
  </verify>
  <done>
    Build.cs references GSD_Core and GameplayTags. Logging infrastructure exists. Module class compiles.
  </done>
</task>

</tasks>

<verification>
1. Plugin compiles: Run UBT build for GSD_DailyEvents module
2. Plugin loads: Check output log for "GSD_DailyEvents module starting up"
3. Dependencies verified: GSD_Core and GameplayTags accessible
</verification>

<success_criteria>
- GSD_DailyEvents.uplugin exists with correct metadata
- Build.cs has GSD_Core and GameplayTags as public dependencies
- GSDEventLog.h provides LOG_GSDEVENTS category and macros
- Module class follows GSD_Crowds pattern exactly
- Plugin compiles without errors
</success_criteria>

<output>
After completion, create `.planning/phases/08-event-system-core/08-01-SUMMARY.md`
</output>
