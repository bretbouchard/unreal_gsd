---
phase: 08-event-system-core
plan: 03
type: execute
wave: 2
depends_on: ["08-01"]
files_modified:
  - Plugins/GSD_DailyEvents/Source/GSD_DailyEvents/Public/Tags/GSDEventTags.h
  - Plugins/GSD_DailyEvents/Config/DefaultGameplayTags.ini
autonomous: true
user_setup: []

must_haves:
  truths:
    - "Event types are organized hierarchically via GameplayTags"
    - "Event.Daily.* tags exist for daily events"
    - "Event.Modifier.* tags exist for event modifiers"
    - "Event.State.* tags exist for event lifecycle states"
    - "Tags can be queried with MatchesTag for hierarchy"
  artifacts:
    - path: "Plugins/GSD_DailyEvents/Source/GSD_DailyEvents/Public/Tags/GSDEventTags.h"
      provides: "GameplayTag constants for events"
      contains: "namespace GSDEventTags"
      contains: "Event.Daily"
      min_lines: 50
    - path: "Plugins/GSD_DailyEvents/Config/DefaultGameplayTags.ini"
      provides: "GameplayTag definitions"
      contains: "Event.Daily.Construction"
      contains: "Event.Modifier.DensityBoost"
  key_links:
    - from: "GSDEventTags.h"
      to: "FGameplayTag::RequestGameplayTag"
      via: "Tag constant initialization"
      pattern: "RequestGameplayTag.*Event\\."
---

<objective>
Define GameplayTags for event system with hierarchical organization.

Purpose: Provide type-safe, hierarchical event categorization. Tags like Event.Daily.Construction enable both specific matching and wildcard queries (Event.Daily matches all daily events).

Output: GSDEventTags.h with tag constants and DefaultGameplayTags.ini with tag definitions.
</objective>

<execution_context>
@/Users/bretbouchard/.claude/get-shit-done/workflows/execute-plan.md
@/Users/bretbouchard/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/08-event-system-core/08-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create GameplayTags Configuration</name>
  <files>
    Plugins/GSD_DailyEvents/Config/DefaultGameplayTags.ini
  </files>
  <action>
    Create the GameplayTags configuration file with all event tag definitions.

    1. Create Config/ directory under Plugins/GSD_DailyEvents/

    2. Create DefaultGameplayTags.ini with:

    ```ini
    [/Script/GameplayTags.GameplayTagsSettings]
    ; Event Tags - Hierarchical organization for event system

    ; Daily Events - Time-based gameplay events
    +GameplayTagList=(Tag="Event.Daily",DevComment="Base tag for all daily events")
    +GameplayTagList=(Tag="Event.Daily.Construction",DevComment="Lane closure event with barricades")
    +GameplayTagList=(Tag="Event.Daily.Bonfire",DevComment="Local density modifier with FX")
    +GameplayTagList=(Tag="Event.Daily.BlockParty",DevComment="Safe zone with crowd props")
    +GameplayTagList=(Tag="Event.Daily.ZombieRave",DevComment="Density boost with attractor volumes and audio")

    ; Event Modifiers - Effects applied by events
    +GameplayTagList=(Tag="Event.Modifier",DevComment="Base tag for event modifiers")
    +GameplayTagList=(Tag="Event.Modifier.DensityBoost",DevComment="Increases spawn density in area")
    +GameplayTagList=(Tag="Event.Modifier.DensityReduce",DevComment="Decreases spawn density in area")
    +GameplayTagList=(Tag="Event.Modifier.NavigationBlock",DevComment="Closes navigation lanes")
    +GameplayTagList=(Tag="Event.Modifier.SafeZone",DevComment="Disables hostile spawns in area")

    ; Event States - Lifecycle states for events
    +GameplayTagList=(Tag="Event.State",DevComment="Base tag for event states")
    +GameplayTagList=(Tag="Event.State.Active",DevComment="Event is currently running")
    +GameplayTagList=(Tag="Event.State.Pending",DevComment="Event scheduled but not started")
    +GameplayTagList=(Tag="Event.State.Complete",DevComment="Event has finished")
    ```

    Tags follow the hierarchy from 08-RESEARCH.md:
    - Event.Daily.* for concrete daily events
    - Event.Modifier.* for reusable modifiers
    - Event.State.* for event lifecycle
  </action>
  <verify>
    grep -l "Event.Daily.Construction" Plugins/GSD_DailyEvents/Config/DefaultGameplayTags.ini
    grep -l "Event.Modifier.DensityBoost" Plugins/GSD_DailyEvents/Config/DefaultGameplayTags.ini
    grep -l "Event.State.Active" Plugins/GSD_DailyEvents/Config/DefaultGameplayTags.ini
  </verify>
  <done>
    DefaultGameplayTags.ini exists with all event tag definitions.
  </done>
</task>

<task type="auto">
  <name>Task 2: Create GameplayTag Constants Header</name>
  <files>
    Plugins/GSD_DailyEvents/Source/GSD_DailyEvents/Public/Tags/GSDEventTags.h
  </files>
  <action>
    Create the tag constants header to avoid string literal typos (Pitfall 5 from research).

    1. Create Tags/ directory under Public/

    2. Create GSDEventTags.h with:

    ```cpp
    #pragma once

    #include "CoreMinimal.h"
    #include "GameplayTagContainer.h"

    /**
     * GameplayTag constants for GSD Event System.
     * Use these instead of string literals to avoid typos.
     *
     * Tags are defined in Config/DefaultGameplayTags.ini
     */
    namespace GSDEventTags
    {
        //== Daily Events ==
        namespace Daily
        {
            extern const FGameplayTag Base;           // Event.Daily
            extern const FGameplayTag Construction;   // Event.Daily.Construction
            extern const FGameplayTag Bonfire;        // Event.Daily.Bonfire
            extern const FGameplayTag BlockParty;     // Event.Daily.BlockParty
            extern const FGameplayTag ZombieRave;     // Event.Daily.ZombieRave
        }

        //== Event Modifiers ==
        namespace Modifier
        {
            extern const FGameplayTag Base;           // Event.Modifier
            extern const FGameplayTag DensityBoost;   // Event.Modifier.DensityBoost
            extern const FGameplayTag DensityReduce;  // Event.Modifier.DensityReduce
            extern const FGameplayTag NavigationBlock;// Event.Modifier.NavigationBlock
            extern const FGameplayTag SafeZone;       // Event.Modifier.SafeZone
        }

        //== Event States ==
        namespace State
        {
            extern const FGameplayTag Base;           // Event.State
            extern const FGameplayTag Active;         // Event.State.Active
            extern const FGameplayTag Pending;        // Event.State.Pending
            extern const FGameplayTag Complete;       // Event.State.Complete
        }

        /**
         * Initialize all tag constants.
         * Called from module startup to cache tag references.
         */
        void InitializeTags();

        /**
         * Check if a tag is a valid event tag.
         */
        bool IsEventTag(const FGameplayTag& Tag);
    }
    ```

    3. Create GSDEventTags.cpp in Private/Tags/ with tag initialization:

    ```cpp
    #include "Tags/GSDEventTags.h"

    namespace GSDEventTags
    {
        namespace Daily
        {
            const FGameplayTag Base = FGameplayTag::RequestGameplayTag(FName("Event.Daily"));
            const FGameplayTag Construction = FGameplayTag::RequestGameplayTag(FName("Event.Daily.Construction"));
            // ... etc
        }
        // ... etc
    }
    ```

    Note: Tags are initialized statically at module load time via RequestGameplayTag.
  </action>
  <verify>
    grep -l "namespace GSDEventTags" Plugins/GSD_DailyEvents/Source/GSD_DailyEvents/Public/Tags/GSDEventTags.h
    grep -l "Event.Daily" Plugins/GSD_DailyEvents/Source/GSD_DailyEvents/Public/Tags/GSDEventTags.h
    grep -l "Event.Modifier" Plugins/GSD_DailyEvents/Source/GSD_DailyEvents/Public/Tags/GSDEventTags.h
  </verify>
  <done>
    GSDEventTags.h provides type-safe tag constants. No string literals needed in event code.
  </done>
</task>

</tasks>

<verification>
1. Tags compile and are accessible via GSDEventTags namespace
2. Hierarchical queries work: Daily.Base.MatchesTag(Daily.Construction) returns true
3. No string literals needed in event code
</verification>

<success_criteria>
- DefaultGameplayTags.ini defines all Event.Daily.*, Event.Modifier.*, Event.State.* tags
- GSDEventTags.h provides const FGameplayTag references
- Tag constants can be used for type-safe event routing
</success_criteria>

<output>
After completion, create `.planning/phases/08-event-system-core/08-03-SUMMARY.md`
</output>
