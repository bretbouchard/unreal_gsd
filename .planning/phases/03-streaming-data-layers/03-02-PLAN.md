---
phase: 03-streaming-data-layers
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - Plugins/GSD_CityStreaming/Content/DataLayers/DL_BaseCity.uasset (editor-created)
  - Plugins/GSD_CityStreaming/Content/DataLayers/DL_Events.uasset (editor-created)
  - Plugins/GSD_CityStreaming/Content/DataLayers/DL_Construction.uasset (editor-created)
  - Plugins/GSD_CityStreaming/Content/DataLayers/DL_Parties.uasset (editor-created)
  - Plugins/GSD_CityStreaming/Docs/DataLayerWorkflow.md
autonomous: false

must_haves:
  truths:
    - "Multiple Data Layers exist for different content types"
    - "Each layer is marked as Runtime (not Editor-only)"
    - "Developer documentation explains layer assignment workflow"
  artifacts:
    - path: "Plugins/GSD_CityStreaming/Docs/DataLayerWorkflow.md"
      provides: "Editor workflow documentation"
      min_lines: 50
  key_links:
    - from: "Level Actors"
      to: "Data Layer Assets"
      via: "Actor Details panel -> Data Layers section"
      pattern: "Data Layer assignment"
---

<objective>
Create Data Layer assets and document the editor workflow for assigning actors to layers.

Purpose: Establish the layer organization structure that enables runtime content toggling for events. Four layers cover the main content categories.

Output: Four Data Layer assets (DL_BaseCity, DL_Events, DL_Construction, DL_Parties) and workflow documentation.
</objective>

<execution_context>
@/Users/bretbouchard/.claude/get-shit-done/workflows/execute-plan.md
@/Users/bretbouchard/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/03-streaming-data-layers/03-RESEARCH.md
</context>

<tasks>

<task type="checkpoint:human-action">
  <name>Task 1: Create Data Layer Assets in Editor</name>
  <files>Plugins/GSD_CityStreaming/Content/DataLayers/</files>
  <action>
Create four Runtime Data Layer assets in the Unreal Editor.

Steps for each layer:
1. Open Unreal Editor
2. In Content Browser, navigate to Plugins/GSD_CityStreaming/Content/
3. Create folder "DataLayers" if not exists
4. Right-click -> Miscellaneous -> Data Layer
5. Name it according to convention below
6. In Details panel, set "Data Layer Type" to "Runtime" (NOT Editor)

Layers to create:
1. **DL_BaseCity** - Always-on base content (buildings, roads, terrain)
2. **DL_Events** - Dynamic event content (bonfires, rave zones)
3. **DL_Construction** - Construction barricades, road closures
4. **DL_Parties** - Block party props, crowd extras

CRITICAL: Each layer MUST have "Runtime" type selected. Editor-only layers cannot be toggled at runtime.
  </action>
  <verify>In Content Browser, verify 4 Data Layer assets exist in Plugins/GSD_CityStreaming/Content/DataLayers/</verify>
  <done>Four Runtime Data Layer assets created: DL_BaseCity, DL_Events, DL_Construction, DL_Parties</done>
</task>

<task type="auto">
  <name>Task 2: Create Data Layer Workflow Documentation</name>
  <files>Plugins/GSD_CityStreaming/Docs/DataLayerWorkflow.md</files>
  <action>
Create markdown documentation explaining the Data Layer workflow for team members.

Document must include:

1. **Layer Overview**
   - Table of all layers with their purpose
   - Which layer to use for different content types

2. **Creating New Layers** (if needed)
   - Steps to create a new Runtime Data Layer
   - Naming convention: DL_[Category]

3. **Assigning Actors to Layers**
   - Select actor in viewport or outliner
   - In Details panel, find "Data Layers" section
   - Click + to add layer, select from dropdown
   - Actors can belong to multiple layers

4. **Testing Layer Toggling**
   - Use console command: `DataLayer.SetState [LayerName] [State]`
   - States: Unloaded, Loaded, Activated
   - Or use GSDDataLayerManager in Blueprint

5. **Best Practices**
   - Keep base content in DL_BaseCity (always loaded)
   - Event-specific content in DL_Events
   - Construction/barricades in DL_Construction
   - Party props in DL_Parties
   - Test layer toggling during development

6. **Console Commands Reference**
   - `DataLayer.List` - List all layers
   - `DataLayer.SetState [Name] [State]` - Toggle layer
   - `wp.Runtime.DrawDataLayers 1` - Visualize layer bounds
</action>
  <verify>File exists at Plugins/GSD_CityStreaming/Docs/DataLayerWorkflow.md with all sections documented</verify>
  <done>Workflow documentation created with layer overview, assignment steps, testing commands, and best practices</done>
</task>

</tasks>

<verification>
1. Four Data Layer assets exist in Plugins/GSD_CityStreaming/Content/DataLayers/
2. All layers are Runtime type (not Editor)
3. Workflow documentation exists and covers all required sections
4. Documentation includes console commands for testing
</verification>

<success_criteria>
- [x] DL_BaseCity Data Layer asset created (Runtime)
- [x] DL_Events Data Layer asset created (Runtime)
- [x] DL_Construction Data Layer asset created (Runtime)
- [x] DL_Parties Data Layer asset created (Runtime)
- [x] Workflow documentation complete
</success_criteria>

<output>
After completion, create `.planning/phases/03-streaming-data-layers/03-02-SUMMARY.md`
</output>
